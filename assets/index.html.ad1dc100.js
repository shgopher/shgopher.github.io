import{_ as p,r as i,o as c,a as u,b as s,d as t,w as e,F as l,c as o,e as n}from"./app.e0455488.js";const r={},d=o(`<h1 id="cobra-\u4E2D\u6587\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#cobra-\u4E2D\u6587\u6587\u6863" aria-hidden="true">#</a> Cobra \u4E2D\u6587\u6587\u6863</h1><p>Cobra \u4E2D\u6587\u6587\u6863\uFF0C\u672C\u6587\u6863\u57FA\u4E8E <a href="https://github.com/spf13/cobra" target="_blank" rel="noopener noreferrer">cobra</a> \u5B98\u65B9\u6587\u6863\u3002\u4E0D\u5B9A\u671F\u66F4\u65B0\u3002</p><p><img src="https://cloud.githubusercontent.com/assets/173412/10886352/ad566232-814f-11e5-9cd0-aa101788c117.png" alt="cobra logo"></p><p>Cobra \u65E2\u662F\u4E00\u4E2A\u521B\u5EFA\u5F3A\u5927\u7684\u73B0\u4EE3 CLI \u5E94\u7528\u7A0B\u5E8F\u7684\u5E93\uFF0C\u4E5F\u662F\u4E00\u4E2A\u751F\u6210\u5E94\u7528\u548C\u547D\u4EE4\u6587\u4EF6\u7684\u7A0B\u5E8F\u3002</p><p>\u8BB8\u591A\u6700\u5E7F\u6CDB\u4F7F\u7528\u7684 Go \u9879\u76EE\u90FD\u662F\u4F7F\u7528 Cobra \u6784\u5EFA\u7684\uFF0C\u5305\u62EC:</p><ul><li><a href="http://kubernetes.io/" target="_blank" rel="noopener noreferrer">Kubernetes</a></li><li><a href="http://gohugo.io" target="_blank" rel="noopener noreferrer">Hugo</a></li><li><a href="https://github.com/coreos/rkt" target="_blank" rel="noopener noreferrer">rkt</a></li><li><a href="https://github.com/coreos/etcd" target="_blank" rel="noopener noreferrer">etcd</a></li><li><a href="https://github.com/moby/moby" target="_blank" rel="noopener noreferrer">Moby (former Docker)</a></li><li><a href="https://github.com/docker/distribution" target="_blank" rel="noopener noreferrer">Docker (distribution)</a></li><li><a href="https://www.openshift.com/" target="_blank" rel="noopener noreferrer">OpenShift</a></li><li><a href="https://github.com/derekparker/delve" target="_blank" rel="noopener noreferrer">Delve</a></li><li><a href="http://www.gopherjs.org/" target="_blank" rel="noopener noreferrer">GopherJS</a></li><li><a href="http://www.cockroachlabs.com/" target="_blank" rel="noopener noreferrer">CockroachDB</a></li><li><a href="http://www.blevesearch.com/" target="_blank" rel="noopener noreferrer">Bleve</a></li><li><a href="http://www.projectatomic.io/" target="_blank" rel="noopener noreferrer">ProjectAtomic (enterprise)</a></li><li><a href="https://github.com/giantswarm/gsctl" target="_blank" rel="noopener noreferrer">Giant Swarm&#39;s gsctl</a></li><li><a href="https://github.com/nanobox-io/nanobox" target="_blank" rel="noopener noreferrer">Nanobox</a>/<a href="https://github.com/nanopack" target="_blank" rel="noopener noreferrer">Nanopack</a></li><li><a href="http://rclone.org/" target="_blank" rel="noopener noreferrer">rclone</a></li><li><a href="https://github.com/bogem/nehm" target="_blank" rel="noopener noreferrer">nehm</a></li><li><a href="https://github.com/alibaba/pouch" target="_blank" rel="noopener noreferrer">Pouch</a></li></ul><p><a href="https://travis-ci.org/spf13/cobra" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.org/spf13/cobra.svg" alt="Build Status" title="Travis CI status"></a><a href="https://circleci.com/gh/spf13/cobra" target="_blank" rel="noopener noreferrer"><img src="https://circleci.com/gh/spf13/cobra.png?circle-token=:circle-token" alt="CircleCI status" title="CircleCI status"></a><a href="https://godoc.org/github.com/spf13/cobra" target="_blank" rel="noopener noreferrer"><img src="https://godoc.org/github.com/spf13/cobra?status.svg" alt="GoDoc"></a></p><h1 id="table-of-contents" tabindex="-1"><a class="header-anchor" href="#table-of-contents" aria-hidden="true">#</a> Table of Contents</h1><ul><li><a href="#overview">Overview</a></li><li><a href="#concepts">Concepts</a><ul><li><a href="#commands">Commands</a></li><li><a href="#flags">Flags</a></li></ul></li><li><a href="#installing">Installing</a></li><li><a href="#getting-started">Getting Started</a><ul><li><a href="#using-the-cobra-generator">Using the Cobra Generator</a></li><li><a href="#using-the-cobra-library">Using the Cobra Library</a></li><li><a href="#working-with-flags">Working with Flags</a></li><li><a href="#positional-and-custom-arguments">Positional and Custom Arguments</a></li><li><a href="#example">Example</a></li><li><a href="#help-command">Help Command</a></li><li><a href="#usage-message">Usage Message</a></li><li><a href="#prerun-and-postrun-hooks">PreRun and PostRun Hooks</a></li><li><a href="#suggestions-when-unknown-command-happens">Suggestions when &quot;unknown command&quot; happens</a></li><li><a href="#generating-documentation-for-your-command">Generating documentation for your command</a></li><li><a href="#generating-bash-completions">Generating bash completions</a></li></ul></li><li><a href="#contributing">Contributing</a></li><li><a href="#license">License</a></li></ul><h1 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h1><p>Cobra \u662F\u4E00\u4E2A\u63D0\u4F9B\u4E86\u7B80\u5355\u7684\u63A5\u53E3\uFF0C\u53EF\u4EE5\u521B\u5EFA\u7C7B\u4F3C <code>git</code> \u548C <code>go tools</code> \u7684\u5F3A\u5927\u7684\u73B0\u4EE3 CLI \u63A5\u53E3\u7684\u5E93\u3002</p><p>Cobra \u4E5F\u662F\u4E00\u4E2A\u751F\u6210\u5E94\u7528\u811A\u624B\u67B6\u7684\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5FEB\u901F\u5F00\u53D1\u57FA\u4E8E Cobra \u7684\u5E94\u7528\u7A0B\u5E8F\u3002</p><p>Cobra \u652F\u6301:</p><ul><li>\u57FA\u4E8E\u5B50\u547D\u4EE4\u7684\u7B80\u6613 CLI: <code>app server</code>, <code>app fetch</code> \u7B49\u3002</li><li>\u5B8C\u5168\u7B26\u5408 POSIX \u6807\u51C6</li><li>\u5D4C\u5957\u7684\u5B50\u547D\u4EE4</li><li>\u5168\u5C40\uFF0C\u672C\u5730\u548C\u7EA7\u8054\u6807\u5FD7</li><li><code>cobra init appname</code> \u548C <code>cobra add cmdname</code> \u547D\u4EE4\u8F7B\u677E\u751F\u6210\u5E94\u7528\u7A0B\u5E8F\u548C\u547D\u4EE4</li><li>\u667A\u80FD\u5316\u5EFA\u8BAE (<code>app srver</code>... did you mean <code>app server</code>?)</li><li>\u81EA\u52A8\u751F\u6210\u547D\u4EE4\u548C\u6807\u5FD7\u7684 <code>help</code></li><li>\u81EA\u52A8\u5E2E\u52A9\u6807\u5FD7\u8BC6\u522B <code>-h</code>\uFF0C<code>--help</code> \u7B49\u3002</li><li>\u4E3A\u4F60\u7684\u5E94\u7528\u7A0B\u5E8F\u81EA\u52A8\u751F\u6210 bash autocomplete</li><li>\u4E3A\u4F60\u7684\u5E94\u7528\u7A0B\u5E8F\u81EA\u52A8\u751F\u6210 man pages</li><li>\u547D\u4EE4\u522B\u540D\uFF0C\u4EE5\u4FBF\u53EF\u4EE5\u5728\u4E0D\u7834\u574F\u5B83\u4EEC\u7684\u60C5\u51B5\u4E0B\u8FDB\u884C\u66F4\u6539</li><li>\u7075\u6D3B\u7684\u5B9A\u4E49\u4F60\u81EA\u5DF1\u7684\u5E2E\u52A9\uFF0C\u7528\u6CD5\u7B49\u3002</li><li>\u53EF\u9009\u62E9\u4E0E <a href="http://github.com/spf13/viper" target="_blank" rel="noopener noreferrer">viper</a>\u7D27\u5BC6\u96C6\u6210\uFF0C\u7528\u4E8E 12-factor \u5E94\u7528</li></ul><h1 id="concepts" tabindex="-1"><a class="header-anchor" href="#concepts" aria-hidden="true">#</a> Concepts</h1><p>Cobra \u5EFA\u7ACB\u5728 <strong>Commands</strong>\uFF0C<strong>Args</strong> \u548C <strong>Flags</strong> \u7684\u7ED3\u6784\u4E4B\u4E0A\u3002</p><p><strong>Commands</strong> \u4EE3\u8868\u52A8\u4F5C\uFF0C<strong>Args</strong> \u4EE3\u8868\u4E8B\u7269\uFF0C<strong>Flags</strong> \u662F\u8FD9\u4E9B\u52A8\u4F5C\u7684\u4FEE\u9970\u7B26\u3002</p><p>\u6700\u597D\u7684\u5E94\u7528\u7A0B\u5E8F\u5728\u4F7F\u7528\u65F6\u4F1A\u50CF\u53E5\u5B50\u4E00\u6837\u8BFB\u53D6\u3002 \u7528\u6237\u4F1A\u77E5\u9053\u5982\u4F55\u4F7F\u7528\u8BE5\u5E94\u7528\u7A0B\u5E8F\uFF0C\u56E0\u4E3A\u4ED6\u4EEC\u5C06\u539F\u751F\u5730\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\u5B83\u3002</p><p>\u8981\u9075\u5FAA\u7684\u6A21\u5F0F\u662F <code>APPNAME VERB NOUN --ADJECTIVE</code>\u3002 \u6216 <code>APPNAME COMMAND ARG --FLAG</code></p><p>\u4E00\u4E9B\u597D\u7684\u73B0\u5B9E\u7684\u4F8B\u5B50\u53EF\u4EE5\u66F4\u597D\u5730\u8BF4\u660E\u8FD9\u4E00\u70B9\u3002</p><p>\u4E0B\u9762\u7684\u4F8B\u5B50\uFF0C<code>server</code> \u662F\u4E00\u4E2A\u547D\u4EE4\uFF0C<code>port</code> \u662F\u4E00\u4E2A\u6807\u5FD7:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>hugo server --port<span class="token operator">=</span><span class="token number">1313</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E2A\u547D\u4EE4\u4E2D\uFF0C\u6211\u4EEC\u544A\u8BC9 Git \u53EA\u514B\u9686\u8FD9\u4E2A url \u5730\u5740\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone URL --bare
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="commands" tabindex="-1"><a class="header-anchor" href="#commands" aria-hidden="true">#</a> Commands</h2><p>\u547D\u4EE4\u662F\u5E94\u7528\u7A0B\u5E8F\u7684\u4E2D\u5FC3\u70B9\u3002\u5E94\u7528\u7A0B\u5E8F\u652F\u6301\u7684\u6BCF\u4E2A\u4EA4\u4E92\u90FD\u5C06\u5305\u542B\u5728\u547D\u4EE4\u4E2D\u3002\u547D\u4EE4\u53EF\u4EE5\u6709\u5B50\u547D\u4EE4\u5E76\u53EF\u9009\u62E9\u8FD0\u884C\u4E00\u4E2A\u52A8\u4F5C\u3002</p><p>\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C<code>server</code> \u5C31\u662F\u4E00\u4E2A\u547D\u4EE4\u3002</p><p><a href="https://godoc.org/github.com/spf13/cobra#Command" target="_blank" rel="noopener noreferrer">\u66F4\u591A\u5173\u4E8E cobra.Command</a></p><h2 id="flags" tabindex="-1"><a class="header-anchor" href="#flags" aria-hidden="true">#</a> Flags</h2><p>\u6807\u5FD7\u662F\u4E00\u79CD\u4FEE\u6539\u547D\u4EE4\u884C\u4E3A\u7684\u65B9\u6CD5\u3002Cobra \u5B8C\u5168\u7B26\u5408 POSIX \u6807\u51C6\u4EE5\u53CA Go <a href="https://golang.org/pkg/flag/" target="_blank" rel="noopener noreferrer">flag package</a>\u3002 Cobra \u547D\u4EE4\u53EF\u4EE5\u5B9A\u4E49\u6301\u4E45\u4FDD\u5B58\u5230\u5B50\u547D\u4EE4\u548C\u6807\u5FD7\u7684\u6807\u5FD7\uFF0C\u8FD9\u4E9B\u547D\u4EE4\u548C\u6807\u5FD7\u4EC5\u5BF9\u8BE5\u547D\u4EE4\u53EF\u7528\u3002</p><p>\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C<code>port</code> \u662F\u4E00\u4E2A\u6807\u5FD7\u3002</p><p>\u6807\u5FD7\u529F\u80FD\u7531 <a href="https://github.com/spf13/pflag" target="_blank" rel="noopener noreferrer">pflag library</a> \u63D0\u4F9B\uFF0C\u662F flag \u5E93\u7684\u4E00\u4E2A\u5206\u652F\uFF0C\u5B83\u5728\u6DFB\u52A0 POSIX \u5408\u89C4\u6027\u65F6\u4FDD\u6301\u76F8\u540C\u7684\u63A5\u53E3\u3002</p><h1 id="installing" tabindex="-1"><a class="header-anchor" href="#installing" aria-hidden="true">#</a> Installing</h1><p>Cobra \u4F7F\u7528\u5F88\u7B80\u5355\uFF0C\u9996\u5148\uFF0C\u4F7F\u7528 <code>go get</code> \u5B89\u88C5\u6700\u65B0\u7684\u7248\u672C\u3002\u6B64\u547D\u4EE4\u5C06\u5B89\u88C5 <code>cobra</code> \u751F\u6210\u5668\u53EF\u6267\u884C\u6587\u4EF6\u4EE5\u53CA\u5E93\u53CA\u5176\u4F9D\u8D56\u9879\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>go get -u github.com/spf13/cobra/cobra
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u63A5\u4E0B\u6765, \u5728\u4F60\u7684\u5E94\u7528\u5F15\u5165 Cobra:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/spf13/cobra&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started" aria-hidden="true">#</a> Getting Started</h1><p>\u867D\u7136\u6B22\u8FCE\u63D0\u4F9B\u81EA\u5DF1\u7684\u7EC4\u7EC7, \u4F46\u901A\u5E38\u57FA\u4E8E Cobra \u7684\u5E94\u7528\u7A0B\u5E8F\u5C06\u9075\u5FAA\u4EE5\u4E0B\u7EC4\u7EC7\u7ED3\u6784:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  \u25BE appName/
    \u25BE cmd/
        add.go
        your.go
        commands.go
        here.go
      main.go
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u4E00\u4E2A Cobra \u5E94\u7528\u91CC, \u901A\u5E38\u8FD9\u4E2A <code>main.go</code> \u6587\u4EF6\u4EC5\u4EC5\u53EA\u6709\u4E00\u4E2A\u76EE\u7684\uFF1A\u521D\u59CB\u5316 Cobra\u3002</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;{pathToYourApp}/cmd&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="using-the-cobra-generator" tabindex="-1"><a class="header-anchor" href="#using-the-cobra-generator" aria-hidden="true">#</a> Using the Cobra Generator</h2><p>Cobra \u63D0\u4F9B\u4E86\u81EA\u5DF1\u7684\u7A0B\u5E8F\uFF0C\u53EF\u4EE5\u521B\u5EFA\u4F60\u7684\u5E94\u7528\u7A0B\u5E8F\u5E76\u6DFB\u52A0\u60F3\u8981\u7684\u4EFB\u4F55\u547D\u4EE4\u3002 \u8FD9\u662F\u5C06 Cobra \u6574\u5408\u5230\u4F60\u7684\u5E94\u7528\u7A0B\u5E8F\u4E2D\u7684\u6700\u7B80\u5355\u65B9\u6CD5\u3002</p><p><a href="https://github.com/spf13/cobra/blob/master/cobra/README.md" target="_blank" rel="noopener noreferrer">\u8FD9\u91CC</a> \u4F60\u53EF\u4EE5\u627E\u5230\u66F4\u591A\u76F8\u5173\u4FE1\u606F\u3002</p><h2 id="using-the-cobra-library" tabindex="-1"><a class="header-anchor" href="#using-the-cobra-library" aria-hidden="true">#</a> Using the Cobra Library</h2><p>\u8981\u624B\u52A8\u5B9E\u73B0 Cobra\uFF0C\u9700\u8981\u521B\u5EFA\u4E00\u4E2A\u7A7A\u7684 <code>main.go</code> \u6587\u4EF6\u548C\u4E00\u4E2A <code>rootCmd</code> \u6587\u4EF6\u3002\u4F60\u53EF\u4EE5\u9009\u62E9\u6839\u636E\u9700\u8981\u63D0\u4F9B\u5176\u4ED6\u547D\u4EE4\u3002</p><h3 id="create-rootcmd" tabindex="-1"><a class="header-anchor" href="#create-rootcmd" aria-hidden="true">#</a> Create rootCmd</h3><p>Cobra \u4E0D\u9700\u8981\u4EFB\u4F55\u7279\u6B8A\u7684\u6784\u9020\u51FD\u6570\u3002\u53EA\u9700\u521B\u5EFA\u547D\u4EE4\u5373\u53EF\u3002</p><p>\u7406\u60F3\u60C5\u51B5\u4E0B\uFF0C\u4F60\u5C06\u5B83\u653E\u5728 <code>app/cmd/root.go</code>:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">var</span> rootCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
  Use<span class="token punctuation">:</span>   <span class="token string">&quot;hugo&quot;</span><span class="token punctuation">,</span>
  Short<span class="token punctuation">:</span> <span class="token string">&quot;Hugo is a very fast static site generator&quot;</span><span class="token punctuation">,</span>
  Long<span class="token punctuation">:</span> <span class="token string">\`A Fast and Flexible Static Site Generator built with
                love by spf13 and friends in Go.
                Complete documentation is available at http://hugo.spf13.com\`</span><span class="token punctuation">,</span>
  Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do Stuff Here</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> err <span class="token operator">:=</span> rootCmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD8\u53EF\u4EE5\u5728 <code>init()</code> \u51FD\u6570\u4E2D\u5B9A\u4E49\u6807\u5FD7\u548C\u5904\u7406\u914D\u7F6E\u3002</p><p>\u4F8B\u5982<code>cmd/root.go</code>:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>
  <span class="token string">&quot;os&quot;</span>

  homedir <span class="token string">&quot;github.com/mitchellh/go-homedir&quot;</span>
  <span class="token string">&quot;github.com/spf13/cobra&quot;</span>
  <span class="token string">&quot;github.com/spf13/viper&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cobra<span class="token punctuation">.</span><span class="token function">OnInitialize</span><span class="token punctuation">(</span>initConfig<span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cfgFile<span class="token punctuation">,</span> <span class="token string">&quot;config&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;config file (default is $HOME/.cobra.yaml)&quot;</span><span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringVarP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>projectBase<span class="token punctuation">,</span> <span class="token string">&quot;projectbase&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;base project directory eg. github.com/spf13/&quot;</span><span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringP</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;YOUR NAME&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Author name for copyright attribution&quot;</span><span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringVarP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>userLicense<span class="token punctuation">,</span> <span class="token string">&quot;license&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;l&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Name of license for the project (can provide \`licensetext\` in config)&quot;</span><span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Bool</span><span class="token punctuation">(</span><span class="token string">&quot;viper&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">&quot;Use Viper for configuration&quot;</span><span class="token punctuation">)</span>
  viper<span class="token punctuation">.</span><span class="token function">BindPFlag</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  viper<span class="token punctuation">.</span><span class="token function">BindPFlag</span><span class="token punctuation">(</span><span class="token string">&quot;projectbase&quot;</span><span class="token punctuation">,</span> rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">&quot;projectbase&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  viper<span class="token punctuation">.</span><span class="token function">BindPFlag</span><span class="token punctuation">(</span><span class="token string">&quot;useViper&quot;</span><span class="token punctuation">,</span> rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">&quot;viper&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  viper<span class="token punctuation">.</span><span class="token function">SetDefault</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;NAME HERE &lt;EMAIL ADDRESS&gt;&quot;</span><span class="token punctuation">)</span>
  viper<span class="token punctuation">.</span><span class="token function">SetDefault</span><span class="token punctuation">(</span><span class="token string">&quot;license&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;apache&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">initConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Don&#39;t forget to read config either from cfgFile or from home directory!</span>
  <span class="token keyword">if</span> cfgFile <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Use config file from the flag.</span>
    viper<span class="token punctuation">.</span><span class="token function">SetConfigFile</span><span class="token punctuation">(</span>cfgFile<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// Find home directory.</span>
    home<span class="token punctuation">,</span> err <span class="token operator">:=</span> homedir<span class="token punctuation">.</span><span class="token function">Dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Search config in home directory with name &quot;.cobra&quot; (without extension).</span>
    viper<span class="token punctuation">.</span><span class="token function">AddConfigPath</span><span class="token punctuation">(</span>home<span class="token punctuation">)</span>
    viper<span class="token punctuation">.</span><span class="token function">SetConfigName</span><span class="token punctuation">(</span><span class="token string">&quot;.cobra&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> err <span class="token operator">:=</span> viper<span class="token punctuation">.</span><span class="token function">ReadInConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Can&#39;t read config:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="create-your-main-go" tabindex="-1"><a class="header-anchor" href="#create-your-main-go" aria-hidden="true">#</a> Create your main.go</h3><p>\u4F7F\u7528 <code>root</code> \u547D\u4EE4\uFF0C\u9700\u8981\u8BA9 <code>main</code> \u51FD\u6570\u6267\u884C\u5B83\u3002\u4E3A\u4E86\u6E05\u695A\u8D77\u89C1\uFF0C\u5E94\u8BE5\u5728 <code>root</code> \u4E0A\u8FD0\u884C <code>Execute</code>\uFF0C\u5C3D\u7BA1\u53EF\u4EE5\u5728\u4EFB\u4F55\u547D\u4EE4\u4E0A\u8C03\u7528\u5B83\u3002</p><p>\u5728\u4E00\u4E2A Cobra \u5E94\u7528\u91CC, \u901A\u5E38\u8FD9\u4E2A<code>main.go</code>\u6587\u4EF6\u4EC5\u4EC5\u53EA\u6709\u4E00\u4E2A\u76EE\u7684\uFF1A\u521D\u59CB\u5316 Cobra\u3002</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;{pathToYourApp}/cmd&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="create-additional-commands" tabindex="-1"><a class="header-anchor" href="#create-additional-commands" aria-hidden="true">#</a> Create additional commands</h3><p>\u53EF\u4EE5\u5B9A\u4E49\u5176\u4ED6\u547D\u4EE4\uFF0C\u901A\u5E38\u6BCF\u4E2A\u547D\u4EE4\u90FD\u5728 <code>cmd/</code> \u76EE\u5F55\u4E2D\u7ED9\u51FA\u81EA\u5DF1\u7684\u6587\u4EF6\u3002</p><p>\u5982\u679C\u8981\u521B\u5EFA\u7248\u672C\u547D\u4EE4\uFF0C\u53EF\u4EE5\u521B\u5EFA <code>cmd/version.go</code> \u5E76\u4F7F\u7528\u4EE5\u4E0B\u5185\u5BB9\u586B\u5145\u5B83</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> cmd

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>

  <span class="token string">&quot;github.com/spf13/cobra&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>versionCmd<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> versionCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
  Use<span class="token punctuation">:</span>   <span class="token string">&quot;version&quot;</span><span class="token punctuation">,</span>
  Short<span class="token punctuation">:</span> <span class="token string">&quot;Print the version number of Hugo&quot;</span><span class="token punctuation">,</span>
  Long<span class="token punctuation">:</span>  <span class="token string">\`All software has versions. This is Hugo&#39;s\`</span><span class="token punctuation">,</span>
  Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hugo Static Site Generator v0.9 -- HEAD&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="working-with-flags" tabindex="-1"><a class="header-anchor" href="#working-with-flags" aria-hidden="true">#</a> Working with Flags</h2><p>\u6807\u5FD7\u63D0\u4F9B\u4FEE\u9970\u7B26\u6765\u63A7\u5236\u52A8\u4F5C\u547D\u4EE4\u7684\u64CD\u4F5C\u65B9\u5F0F\u3002</p><h3 id="assign-flags-to-a-command" tabindex="-1"><a class="header-anchor" href="#assign-flags-to-a-command" aria-hidden="true">#</a> Assign flags to a command</h3><p>\u7531\u4E8E\u6807\u5FD7\u662F\u5728\u4E0D\u540C\u7684\u4F4D\u7F6E\u5B9A\u4E49\u548C\u4F7F\u7528\u7684\uFF0C\u56E0\u6B64\u6211\u4EEC\u9700\u8981\u5728\u5916\u90E8\u5B9A\u4E49\u4E00\u4E2A\u5177\u6709\u6B63\u786E\u8303\u56F4\u7684\u53D8\u91CF\u6765\u5206\u914D\u8981\u4F7F\u7528\u7684\u6807\u5FD7\u3002</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">var</span> Verbose <span class="token builtin">bool</span>
<span class="token keyword">var</span> Source <span class="token builtin">string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5206\u914D\u6807\u5FD7\u6709\u4E24\u79CD\u4E0D\u540C\u7684\u65B9\u6CD5\u3002</p><h3 id="persistent-flags" tabindex="-1"><a class="header-anchor" href="#persistent-flags" aria-hidden="true">#</a> Persistent Flags</h3><p>\u6807\u5FD7\u53EF\u4EE5\u662F\u201C\u6301\u4E45\u7684\u201D\uFF0C\u8FD9\u610F\u5473\u7740\u8BE5\u6807\u5FD7\u53EF\u7528\u4E8E\u5B83\u6240\u5206\u914D\u7684\u547D\u4EE4\u4EE5\u53CA\u8BE5\u547D\u4EE4\u4E0B\u7684\u6BCF\u4E2A\u547D\u4EE4\u3002\u5BF9\u4E8E\u5168\u5C40\u6807\u5FD7\uFF0C\u5728 <code>root</code> \u4E0A\u5206\u914D\u6807\u5FD7\u4F5C\u4E3A\u6301\u4E45\u6807\u5FD7\u3002</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">BoolVarP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Verbose<span class="token punctuation">,</span> <span class="token string">&quot;verbose&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;v&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&quot;verbose output&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="local-flags" tabindex="-1"><a class="header-anchor" href="#local-flags" aria-hidden="true">#</a> Local Flags</h3><p>\u4E5F\u53EF\u4EE5\u5728\u672C\u5730\u5206\u914D\u4E00\u4E2A\u6807\u5FD7\uFF0C\u8BE5\u6807\u5FD7\u4EC5\u9002\u7528\u4E8E\u8BE5\u7279\u5B9A\u547D\u4EE4\u3002</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>rootCmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringVarP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Source<span class="token punctuation">,</span> <span class="token string">&quot;source&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Source directory to read from&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="local-flag-on-parent-commands" tabindex="-1"><a class="header-anchor" href="#local-flag-on-parent-commands" aria-hidden="true">#</a> Local Flag on Parent Commands</h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CCobra \u4EC5\u89E3\u6790\u76EE\u6807\u547D\u4EE4\u4E0A\u7684\u672C\u5730\u6807\u5FD7\uFF0C\u5E76\u4E14\u5FFD\u7565\u7236\u547D\u4EE4\u4E0A\u7684\u4EFB\u4F55\u672C\u5730\u6807\u5FD7\u3002\u901A\u8FC7\u542F\u7528 <code>Command.TraverseChildren</code>\uFF0C Cobra \u5C06\u5728\u6267\u884C\u76EE\u6807\u547D\u4EE4\u4E4B\u524D\u89E3\u6790\u6BCF\u4E2A\u547D\u4EE4\u4E0A\u7684\u672C\u5730\u6807\u5FD7\u3002</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>command <span class="token operator">:=</span> cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
  Use<span class="token punctuation">:</span> <span class="token string">&quot;print [OPTIONS] [COMMANDS]&quot;</span><span class="token punctuation">,</span>
  TraverseChildren<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bind-flags-with-config" tabindex="-1"><a class="header-anchor" href="#bind-flags-with-config" aria-hidden="true">#</a> Bind Flags with Config</h3><p>\u4F60\u4E5F\u53EF\u4EE5\u7528 <a href="https://github.com/spf13/viper" target="_blank" rel="noopener noreferrer">viper</a> \u7ED1\u5B9A\u6807\u5FD7:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">var</span> author <span class="token builtin">string</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>author<span class="token punctuation">,</span> <span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;YOUR NAME&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Author name for copyright attribution&quot;</span><span class="token punctuation">)</span>
  viper<span class="token punctuation">.</span><span class="token function">BindPFlag</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">,</span> rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\u6301\u4E45\u6807\u5FD7 <code>author</code> \u88AB <code>viper</code> \u7ED1\u5B9A\u4E86\u3002 <strong>\u6CE8\u610F</strong>, \u5F53\u7528\u6237\u6CA1\u6709\u63D0\u4F9B <code>--author</code> \u6807\u5FD7\u65F6\uFF0C\u53D8\u91CF <code>author</code> \u4E0D\u4F1A\u88AB\u8BBE\u7F6E\u4E3A config \u7684\u503C\u3002</p><p>\u66F4\u591A\u53C2\u8003 <a href="https://github.com/spf13/viper#working-with-flags" target="_blank" rel="noopener noreferrer">viper documentation</a>.</p><h3 id="required-flags" tabindex="-1"><a class="header-anchor" href="#required-flags" aria-hidden="true">#</a> Required flags</h3><p>\u6807\u5FD7\u9ED8\u8BA4\u662F\u53EF\u9009\u7684\u3002\u5982\u679C\u5E0C\u671B\u547D\u4EE4\u5728\u672A\u8BBE\u7F6E\u6807\u5FD7\u65F6\u62A5\u544A\u9519\u8BEF\uFF0C\u5C06\u5176\u8BBE\u7F6E\u4E3A <code>required</code>:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>rootCmd<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StringVarP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Region<span class="token punctuation">,</span> <span class="token string">&quot;region&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AWS region (required)&quot;</span><span class="token punctuation">)</span>
rootCmd<span class="token punctuation">.</span><span class="token function">MarkFlagRequired</span><span class="token punctuation">(</span><span class="token string">&quot;region&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="positional-and-custom-arguments" tabindex="-1"><a class="header-anchor" href="#positional-and-custom-arguments" aria-hidden="true">#</a> Positional and Custom Arguments</h2><p>\u53EF\u4EE5\u4F7F\u7528 <code>Command</code> \u7684 <code>Args</code> \u5B57\u6BB5\u6307\u5B9A\u4F4D\u7F6E\u53C2\u6570\u7684\u9A8C\u8BC1\u3002</p><p>\u5185\u7F6E\u4EE5\u4E0B\u9A8C\u8BC1\u5668:</p><ul><li><code>NoArgs</code> - \u5982\u679C\u5B58\u5728\u4EFB\u4F55\u4F4D\u7F6E\u53C2\u6570\uFF0C\u8BE5\u547D\u4EE4\u5C06\u62A5\u544A\u9519\u8BEF\u3002</li><li><code>ArbitraryArgs</code> - \u8BE5\u547D\u4EE4\u5C06\u63A5\u53D7\u4EFB\u4F55\u53C2\u6570\u3002</li><li><code>OnlyValidArgs</code> - \u5982\u679C\u6709\u4EFB\u4F55\u4F4D\u7F6E\u53C2\u6570\u4E0D\u5728 <code>Command</code> \u7684 <code>ValidArgs</code> \u5B57\u6BB5\u4E2D\uFF0C\u8BE5\u547D\u4EE4\u5C06\u62A5\u544A\u9519\u8BEF\u3002</li><li><code>MinimumNArgs(int)</code> - \u5982\u679C\u6CA1\u6709\u81F3\u5C11 N \u4E2A\u4F4D\u7F6E\u53C2\u6570\uFF0C\u8BE5\u547D\u4EE4\u5C06\u62A5\u544A\u9519\u8BEF\u3002</li><li><code>MaximumNArgs(int)</code> - \u5982\u679C\u6709\u591A\u4E8E N \u4E2A\u4F4D\u7F6E\u53C2\u6570\uFF0C\u8BE5\u547D\u4EE4\u5C06\u62A5\u544A\u9519\u8BEF\u3002</li><li><code>ExactArgs(int)</code> - \u5982\u679C\u6CA1\u6709\u786E\u5207\u7684 N \u4F4D\u7F6E\u53C2\u6570\uFF0C\u8BE5\u547D\u4EE4\u5C06\u62A5\u544A\u9519\u8BEF\u3002</li><li><code>ExactValidArgs(int)</code> - \u5982\u679C\u6CA1\u6709\u6B63\u786E\u7684 N \u4F4D\u7F6E\u53C2\u6570\uFF0C\u6216\u8005\u5982\u679C\u6709\u4EFB\u4F55\u4F4D\u7F6E\u53C2\u6570\u4E0D\u5728 <code>Command</code> \u7684 <code>ValidArgs</code> \u5B57\u6BB5\u4E2D\uFF0C\u547D\u4EE4\u5C06\u62A5\u544A\u5E76\u62A5\u9519</li><li><code>RangeArgs(min, max)</code> - \u5982\u679C\u53C2\u6570\u7684\u6570\u91CF\u4E0D\u5728\u9884\u671F\u53C2\u6570\u7684\u6700\u5C0F\u548C\u6700\u5927\u6570\u91CF\u4E4B\u95F4\uFF0C\u5219\u8BE5\u547D\u4EE4\u5C06\u62A5\u544A\u9519\u8BEF\u3002</li></ul><p>\u4E00\u4E2A\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u9A8C\u8BC1\u5668\u7684\u4F8B\u5B50:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">var</span> cmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
  Short<span class="token punctuation">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span>
  Args<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;requires at least one arg&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> myapp<span class="token punctuation">.</span><span class="token function">IsValidColor</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;invalid color specified: %s&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><p>\u4E0B\u9762\u7684\u4F8B\u5B50\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E86\u4E09\u4E2A\u547D\u4EE4. \u4E24\u4E2A\u4F4D\u4E8E\u9876\u5C42\uFF0C\u4E00\u4E2A\uFF08cmdTimes\uFF09\u662F\u9876\u7EA7\u547D\u4EE4\u4E4B\u4E00\u7684\u5B50\u7EA7\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C<code>root</code> \u4E0D\u53EF\u6267\u884C\uFF0C\u8FD9\u610F\u5473\u7740\u9700\u8981\u5B50\u547D\u4EE4\u3002 \u8FD9\u662F\u901A\u8FC7\u4E0D\u4E3A <code>rootCmd</code> \u63D0\u4F9B <code>Run</code> \u6765\u5B9E\u73B0\u7684\u3002</p><p>\u6211\u4EEC\u53EA\u4E3A\u4E00\u4E2A\u547D\u4EE4\u5B9A\u4E49\u4E86\u4E00\u4E2A\u6807\u5FD7\u3002</p><p>\u6709\u5173\u6807\u5FD7\u7684\u66F4\u591A\u6587\u6863\uFF0C\u8BBF\u95EE https://github.com/spf13/pflag</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>
  <span class="token string">&quot;strings&quot;</span>

  <span class="token string">&quot;github.com/spf13/cobra&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> echoTimes <span class="token builtin">int</span>

  <span class="token keyword">var</span> cmdPrint <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
    Use<span class="token punctuation">:</span>   <span class="token string">&quot;print [string to print]&quot;</span><span class="token punctuation">,</span>
    Short<span class="token punctuation">:</span> <span class="token string">&quot;Print anything to the screen&quot;</span><span class="token punctuation">,</span>
    Long<span class="token punctuation">:</span> <span class="token string">\`print is for printing anything back to the screen.For many years people have printed back to the screen.\`</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> cobra<span class="token punctuation">.</span><span class="token function">MinimumNArgs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Print: &quot;</span> <span class="token operator">+</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> cmdEcho <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
    Use<span class="token punctuation">:</span>   <span class="token string">&quot;echo [string to echo]&quot;</span><span class="token punctuation">,</span>
    Short<span class="token punctuation">:</span> <span class="token string">&quot;Echo anything to the screen&quot;</span><span class="token punctuation">,</span>
    Long<span class="token punctuation">:</span> <span class="token string">\`echo is for echoing anything back.Echo works a lot like print, except it has a child command.\`</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> cobra<span class="token punctuation">.</span><span class="token function">MinimumNArgs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Print: &quot;</span> <span class="token operator">+</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> cmdTimes <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
    Use<span class="token punctuation">:</span>   <span class="token string">&quot;times [# times] [string to echo]&quot;</span><span class="token punctuation">,</span>
    Short<span class="token punctuation">:</span> <span class="token string">&quot;Echo anything to the screen more times&quot;</span><span class="token punctuation">,</span>
    Long<span class="token punctuation">:</span> <span class="token string">\`echo things multiple times back to the user by providinga count and a string.\`</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> cobra<span class="token punctuation">.</span><span class="token function">MinimumNArgs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> echoTimes<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Echo: &quot;</span> <span class="token operator">+</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  cmdTimes<span class="token punctuation">.</span><span class="token function">Flags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">IntVarP</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>echoTimes<span class="token punctuation">,</span> <span class="token string">&quot;times&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;times to echo the input&quot;</span><span class="token punctuation">)</span>

  <span class="token keyword">var</span> rootCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>Use<span class="token punctuation">:</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">}</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>cmdPrint<span class="token punctuation">,</span> cmdEcho<span class="token punctuation">)</span>
  cmdEcho<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>cmdTimes<span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u66F4\u591A\u5927\u578B\u5E94\u7528\u7A0B\u5E8F\u7684\u66F4\u5B8C\u6574\u793A\u4F8B\uFF0C\u8BF7\u67E5\u770B <a href="http://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a>.</p><h2 id="help-command" tabindex="-1"><a class="header-anchor" href="#help-command" aria-hidden="true">#</a> Help Command</h2><p>\u5F53\u4F60\u6709\u5B50\u547D\u4EE4\u65F6\uFF0CCobra \u4F1A\u81EA\u52A8\u4E3A\u5E94\u7528\u7A0B\u5E8F\u6DFB\u52A0\u4E00\u4E2A\u5E2E\u52A9\u547D\u4EE4\u3002\u5F53\u7528\u6237\u8FD0\u884C <code>app help</code> \u65F6\u4F1A\u8C03\u7528\u6B64\u65B9\u6CD5\u3002\u6B64\u5916\uFF0C\u5E2E\u52A9\u8FD8\u5C06\u652F\u6301\u6240\u6709\u5176\u4ED6\u547D\u4EE4\u4F5C\u4E3A\u8F93\u5165\u3002 \u6BD4\u65B9\u8BF4\uFF0C\u4F60\u6709\u4E00\u4E2A\u53EB\u505A <code>create</code> \u7684\u547D\u4EE4\u6CA1\u6709\u4EFB\u4F55\u989D\u5916\u914D\u7F6E;\u5F53 <code>app help create</code> \u88AB\u8C03\u7528\u65F6\uFF0CCobra \u5C06\u5DE5\u4F5C\u3002\u6BCF\u4E2A\u547D\u4EE4\u90FD\u4F1A\u81EA\u52A8\u6DFB\u52A0 <code>--help</code> \u6807\u5FD7\u3002</p><h3 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1" aria-hidden="true">#</a> Example</h3><p>\u4EE5\u4E0B\u8F93\u51FA\u7531Cobra\u81EA\u52A8\u751F\u6210\u3002 \u9664\u4E86\u5B9A\u4E49\u547D\u4EE4\u548C\u6807\u5FD7\u4E4B\u5916\uFF0C\u4E0D\u9700\u8981\u4EFB\u4F55\u5176\u4ED6\u5185\u5BB9\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ cobra <span class="token builtin class-name">help</span>

Cobra is a CLI library <span class="token keyword">for</span> Go that empowers applications.
This application is a tool to generate the needed files
to quickly create a Cobra application.

Usage:
  cobra <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Available Commands:
  <span class="token function">add</span>         Add a <span class="token builtin class-name">command</span> to a Cobra Application
  <span class="token builtin class-name">help</span>        Help about any <span class="token builtin class-name">command</span>
  init        Initialize a Cobra Application

Flags:
  -a, --author string    author name <span class="token keyword">for</span> copyright attribution <span class="token punctuation">(</span>default <span class="token string">&quot;YOUR NAME&quot;</span><span class="token punctuation">)</span>
      --config string    config <span class="token function">file</span> <span class="token punctuation">(</span>default is <span class="token environment constant">$HOME</span>/.cobra.yaml<span class="token punctuation">)</span>
  -h, --help             <span class="token builtin class-name">help</span> <span class="token keyword">for</span> cobra
  -l, --license string   name of license <span class="token keyword">for</span> the project
      --viper            use Viper <span class="token keyword">for</span> configuration <span class="token punctuation">(</span>default <span class="token boolean">true</span><span class="token punctuation">)</span>

Use <span class="token string">&quot;cobra [command] --help&quot;</span> <span class="token keyword">for</span> <span class="token function">more</span> information about a command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5E2E\u52A9\u50CF\u4EFB\u4F55\u5176\u4ED6\u547D\u4EE4\u4E00\u6837\u3002\u6CA1\u6709\u7279\u6B8A\u7684\u903B\u8F91\u6216\u884C\u4E3A\u3002\u4E8B\u5B9E\u4E0A\uFF0C\u5982\u679C\u4F60\u613F\u610F\uFF0C\u4F60\u53EF\u4EE5\u63D0\u4F9B\u81EA\u5DF1\u7684\u3002</p><h3 id="defining-your-own-help" tabindex="-1"><a class="header-anchor" href="#defining-your-own-help" aria-hidden="true">#</a> Defining your own help</h3><p>\u53EF\u4EE5\u4E3A\u9ED8\u8BA4\u547D\u4EE4\u63D0\u4F9B\u81EA\u5DF1\u7684\u5E2E\u52A9\u547D\u4EE4\u6216\u81EA\u5DF1\u7684\u6A21\u677F\uFF0C\u4F7F\u7528\u4EE5\u4E0B\u51FD\u6570:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>cmd<span class="token punctuation">.</span><span class="token function">SetHelpCommand</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>Command<span class="token punctuation">)</span>
cmd<span class="token punctuation">.</span><span class="token function">SetHelpFunc</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token operator">*</span>Command<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
cmd<span class="token punctuation">.</span><span class="token function">SetHelpTemplate</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u540E\u4E24\u8005\u4E5F\u9002\u7528\u4E8E\u4EFB\u4F55\u5B50\u547D\u4EE4\u3002</p><h2 id="usage-message" tabindex="-1"><a class="header-anchor" href="#usage-message" aria-hidden="true">#</a> Usage Message</h2><p>\u5F53\u7528\u6237\u63D0\u4F9B\u65E0\u6548\u6807\u5FD7\u6216\u65E0\u6548\u547D\u4EE4\u65F6\uFF0CCobra \u4F1A\u901A\u8FC7\u5411\u7528\u6237\u663E\u793A <code>usage</code> \u6765\u505A\u51FA\u54CD\u5E94\u3002</p><h3 id="example-2" tabindex="-1"><a class="header-anchor" href="#example-2" aria-hidden="true">#</a> Example</h3><p>\u53EF\u4EE5\u4ECE\u4E0A\u9762\u7684\u5E2E\u52A9\u4E2D\u8BA4\u8BC6\u5230\u8FD9\u4E00\u70B9\u3002\u90A3\u662F\u56E0\u4E3A\u9ED8\u8BA4\u5E2E\u52A9\u5C06\u7528\u6CD5\u5D4C\u5165\u5176\u8F93\u51FA\u7684\u4E00\u90E8\u5206\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ cobra --invalid
Error: unknown flag: --invalid
Usage:
  cobra <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Available Commands:
  <span class="token function">add</span>         Add a <span class="token builtin class-name">command</span> to a Cobra Application
  <span class="token builtin class-name">help</span>        Help about any <span class="token builtin class-name">command</span>
  init        Initialize a Cobra Application

Flags:
  -a, --author string    author name <span class="token keyword">for</span> copyright attribution <span class="token punctuation">(</span>default <span class="token string">&quot;YOUR NAME&quot;</span><span class="token punctuation">)</span>
      --config string    config <span class="token function">file</span> <span class="token punctuation">(</span>default is <span class="token environment constant">$HOME</span>/.cobra.yaml<span class="token punctuation">)</span>
  -h, --help             <span class="token builtin class-name">help</span> <span class="token keyword">for</span> cobra
  -l, --license string   name of license <span class="token keyword">for</span> the project
      --viper            use Viper <span class="token keyword">for</span> configuration <span class="token punctuation">(</span>default <span class="token boolean">true</span><span class="token punctuation">)</span>

Use <span class="token string">&quot;cobra [command] --help&quot;</span> <span class="token keyword">for</span> <span class="token function">more</span> information about a command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="defining-your-own-usage" tabindex="-1"><a class="header-anchor" href="#defining-your-own-usage" aria-hidden="true">#</a> Defining your own usage</h3><p>\u53EF\u4EE5\u63D0\u4F9B\u81EA\u5DF1\u7684 <code>usage</code> \u51FD\u6570\u6216\u6A21\u677F\u4F9B Cobra \u4F7F\u7528\u3002\u4E0E\u5E2E\u52A9\u4E00\u6837\uFF0C\u51FD\u6570\u548C\u6A21\u677F\u53EF\u4EE5\u901A\u8FC7\u516C\u5171\u65B9\u6CD5\u8986\u76D6\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>cmd<span class="token punctuation">.</span><span class="token function">SetUsageFunc</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token operator">*</span>Command<span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
cmd<span class="token punctuation">.</span><span class="token function">SetUsageTemplate</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="version-flag" tabindex="-1"><a class="header-anchor" href="#version-flag" aria-hidden="true">#</a> Version Flag</h2><p>\u5982\u679C\u5728 <code>root</code> \u547D\u4EE4\u4E0A\u8BBE\u7F6E\u4E86 <code>Version</code> \u5B57\u6BB5\uFF0CCobra \u4F1A\u6DFB\u52A0\u9876\u7EA7 <code>--version</code> \u6807\u5FD7\u3002 \u4F7F\u7528 <code>--version</code> \u6807\u5FD7\u8FD0\u884C\u5E94\u7528\u7A0B\u5E8F\u4F1A\u4F7F\u7528 <code>Version</code> \u6A21\u677F\u5C06\u7248\u672C\u6253\u5370\u5230 stdout\u3002\u53EF\u4EE5\u4F7F\u7528 <code>cmd.SetVersionTemplate(s string)</code> \u51FD\u6570\u81EA\u5B9A\u4E49\u6A21\u677F\u3002</p><h2 id="prerun-and-postrun-hooks" tabindex="-1"><a class="header-anchor" href="#prerun-and-postrun-hooks" aria-hidden="true">#</a> PreRun and PostRun Hooks</h2><p>\u53EF\u4EE5\u5728\u547D\u4EE4\u7684\u4E3B <code>Run</code> \u51FD\u6570\u4E4B\u524D\u6216\u4E4B\u540E\u8FD0\u884C\u51FD\u6570\u3002<code>PersistentPreRun</code> \u548C <code>PreRun</code> \u51FD\u6570\u5C06\u5728 <code>Run</code> \u4E4B\u524D\u6267\u884C\u3002<code>PersistentPostRun</code> \u548C <code>PostRun</code> \u5C06\u5728 <code>Run</code> \u4E4B\u540E\u6267\u884C\u3002\u5982\u679C\u4ED6\u4EEC\u6CA1\u6709\u58F0\u660E\u81EA\u5DF1\u7684 <code>Persistent*Run</code> \u51FD\u6570\u5C06\u7531\u5B50\u9879\u7EE7\u627F\u3002\u8FD9\u4E9B\u51FD\u6570\u6309\u4EE5\u4E0B\u987A\u5E8F\u8FD0\u884C:</p><ul><li><code>PersistentPreRun</code></li><li><code>PreRun</code></li><li><code>Run</code></li><li><code>PostRun</code></li><li><code>PersistentPostRun</code></li></ul><p><strong>\u6CE8\u610F\uFF1A\u7236\u7EA7\u7684 <code>PreRun</code> \u53EA\u4F1A\u5728\u7236\u7EA7\u547D\u4EE4\u8FD0\u884C\u65F6\u8C03\u7528\uFF0C\u5B50\u547D\u4EE4\u65F6\u4E0D\u4F1A\u8C03\u7528\u7684\u3002</strong> \u8FD0\u884C <code>hectl detect</code> \u65F6\uFF0C\u5B50\u547D\u4EE4 <code>detect</code> \u8FD0\u884C\u5E76\u4E0D\u4F1A\u8C03\u7528\u7236\u7EA7 <code>hectl</code> \u7684 <code>PreRun</code> \u51FD\u6570\u3002</p><p>\u4E0B\u9762\u662F\u4F7F\u7528\u6240\u6709\u8FD9\u4E9B\u529F\u80FD\u7684\u4E24\u4E2A\u547D\u4EE4\u7684\u793A\u4F8B\u3002\u6267\u884C\u5B50\u547D\u4EE4\u65F6\uFF0C\u5B83\u5C06\u8FD0\u884C root \u547D\u4EE4\u7684 <code>PersistentPreRun</code>\uFF0C\u4F46\u4E0D\u8FD0\u884C root \u547D\u4EE4\u7684 <code>PersistentPostRun</code>:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">&quot;fmt&quot;</span>

  <span class="token string">&quot;github.com/spf13/cobra&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">var</span> rootCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
    Use<span class="token punctuation">:</span>   <span class="token string">&quot;root [sub]&quot;</span><span class="token punctuation">,</span>
    Short<span class="token punctuation">:</span> <span class="token string">&quot;My root command&quot;</span><span class="token punctuation">,</span>
    PersistentPreRun<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside rootCmd PersistentPreRun with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    PreRun<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside rootCmd PreRun with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside rootCmd Run with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    PostRun<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside rootCmd PostRun with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    PersistentPostRun<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside rootCmd PersistentPostRun with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> subCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
    Use<span class="token punctuation">:</span>   <span class="token string">&quot;sub [no options!]&quot;</span><span class="token punctuation">,</span>
    Short<span class="token punctuation">:</span> <span class="token string">&quot;My subcommand&quot;</span><span class="token punctuation">,</span>
    PreRun<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside subCmd PreRun with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Run<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside subCmd Run with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    PostRun<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside subCmd PostRun with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    PersistentPostRun<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Inside subCmd PersistentPostRun with args: %v\\n&quot;</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  rootCmd<span class="token punctuation">.</span><span class="token function">AddCommand</span><span class="token punctuation">(</span>subCmd<span class="token punctuation">)</span>

  rootCmd<span class="token punctuation">.</span><span class="token function">SetArgs</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">SetArgs</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;sub&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;arg1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;arg2&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  rootCmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Output:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Inside rootCmd PersistentPreRun with args: []
Inside rootCmd PreRun with args: []
Inside rootCmd Run with args: []
Inside rootCmd PostRun with args: []
Inside rootCmd PersistentPostRun with args: []

Inside rootCmd PersistentPreRun with args: [arg1 arg2]
Inside subCmd PreRun with args: [arg1 arg2]
Inside subCmd Run with args: [arg1 arg2]
Inside subCmd PostRun with args: [arg1 arg2]
Inside subCmd PersistentPostRun with args: [arg1 arg2]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="suggestions-when-unknown-command-happens" tabindex="-1"><a class="header-anchor" href="#suggestions-when-unknown-command-happens" aria-hidden="true">#</a> Suggestions when &quot;unknown command&quot; happens</h2><p>\u5F53 &quot;unknown command&quot; \u9519\u8BEF\u53D1\u751F\u65F6\uFF0CCobra \u5C06\u81EA\u52A8\u6253\u5370\u5EFA\u8BAE\u3002\u5F53\u9519\u5B57\u53D1\u751F\u65F6\uFF0C\u8FD9\u4F7F\u5F97 Cobra \u7684\u884C\u4E3A\u4E0E <code>git</code> \u547D\u4EE4\u7C7B\u4F3C\u3002\u4F8B\u5982:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ hugo srever
Error: unknown <span class="token builtin class-name">command</span> <span class="token string">&quot;srever&quot;</span> <span class="token keyword">for</span> <span class="token string">&quot;hugo&quot;</span>

Did you mean this?
        server

Run <span class="token string">&#39;hugo --help&#39;</span> <span class="token keyword">for</span> usage.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6839\u636E\u6CE8\u518C\u7684\u6BCF\u4E2A\u5B50\u547D\u4EE4\u81EA\u52A8\u5EFA\u8BAE\u5E76\u4F7F\u7528 <a href="http://en.wikipedia.org/wiki/Levenshtein_distance" target="_blank" rel="noopener noreferrer">Levenshtein distance</a> \u5B9E\u73B0\u3002 \u6BCF\u4E2A\u5339\u914D\u6700\u5C0F\u8DDD\u79BB\u4E3A 2\uFF08\u5FFD\u7565\u5927\u5C0F\u5199\uFF09\u7684\u6CE8\u518C\u547D\u4EE4\u5C06\u663E\u793A\u4E3A\u5EFA\u8BAE\u3002</p><p>\u5982\u679C\u9700\u8981\u5728\u547D\u4EE4\u4E2D\u7981\u7528\u5EFA\u8BAE\u6216\u8C03\u6574\u5B57\u7B26\u4E32\u8DDD\u79BB\uFF0C\u4F7F\u7528:</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>command<span class="token punctuation">.</span>DisableSuggestions <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>or</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>command<span class="token punctuation">.</span>SuggestionsMinimumDistance <span class="token operator">=</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4F60\u8FD8\u53EF\u4EE5\u4F7F\u7528 <code>SuggestFor</code> \u5C5E\u6027\u663E\u5F0F\u8BBE\u7F6E\u8981\u4E3A\u5176\u6307\u5B9A\u547D\u4EE4\u7684\u540D\u79F0\u3002\u8FD9\u5141\u8BB8\u5EFA\u8BAE\u5728\u5B57\u7B26\u4E32\u8DDD\u79BB\u65B9\u9762\u4E0D\u63A5\u8FD1\u7684\u5B57\u7B26\u4E32\uFF0C\u4F46\u5728\u4F60\u7684\u547D\u4EE4\u96C6\u548C\u67D0\u4E9B\u4F60\u4E0D\u60F3\u8981\u522B\u540D\u7684\u5B57\u7B26\u4E32\u4E2D\u6709\u610F\u4E49\u3002\u4F8B\u5982:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ kubectl remove
Error: unknown command &quot;remove&quot; for &quot;kubectl&quot;

Did you mean this?
        delete

Run &#39;kubectl help&#39; for usage.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="generating-documentation-for-your-command" tabindex="-1"><a class="header-anchor" href="#generating-documentation-for-your-command" aria-hidden="true">#</a> Generating documentation for your command</h2><p>Cobra \u53EF\u4EE5\u6309\u4EE5\u4E0B\u683C\u5F0F\u751F\u6210\u57FA\u4E8E\u5B50\u547D\u4EE4\uFF0C\u6807\u5FD7\u7B49\u7684\u6587\u6863\uFF1A</p>`,137),k=n("Markdown"),m=n("ReStructured Text"),v=n("Man Page"),g=s("h2",{id:"generating-bash-completions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#generating-bash-completions","aria-hidden":"true"},"#"),n(" Generating bash completions")],-1),b=n("Cobra \u53EF\u4EE5\u751F\u6210 "),h=s("code",null,"bash-completion",-1),f=n(" \u6587\u4EF6\u3002\u5982\u679C\u5411\u547D\u4EE4\u6DFB\u52A0\u66F4\u591A\u4FE1\u606F\uFF0C\u8FD9\u4E9B Completions \u529F\u80FD\u53EF\u4EE5\u975E\u5E38\u5F3A\u5927\u4E14\u7075\u6D3B\u3002 \u9605\u8BFB\u66F4\u591A\u5173\u4E8E "),q=n("Bash Completions"),C=n("."),w=s("h2",{id:"generating-zsh-completions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#generating-zsh-completions","aria-hidden":"true"},"#"),n(" Generating zsh completions")],-1),y=n("Cobra \u53EF\u4EE5\u751F\u6210 "),P=s("code",null,"zsh-completion",-1),x=n("\u3002\u9605\u8BFB\u66F4\u591A\u5173\u4E8E "),_=n("Zsh Completions"),R=n("."),A=o('<h1 id="contributing" tabindex="-1"><a class="header-anchor" href="#contributing" aria-hidden="true">#</a> Contributing</h1><ol><li>Fork it</li><li>Download your fork to your PC (<code>git clone https://github.com/your_username/cobra &amp;&amp; cd cobra</code>)</li><li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li><li>Make changes and add them (<code>git add .</code>)</li><li>Commit your changes (<code>git commit -m &#39;Add some feature&#39;</code>)</li><li>Push to the branch (<code>git push origin my-new-feature</code>)</li><li>Create new pull request</li></ol><h1 id="license" tabindex="-1"><a class="header-anchor" href="#license" aria-hidden="true">#</a> License</h1><p>Cobra is released under the Apache 2.0 license. See <a href="https://github.com/spf13/cobra/blob/master/LICENSE.txt" target="_blank" rel="noopener noreferrer">LICENSE.txt</a></p>',4);function S(E,F){const a=i("RouterLink");return c(),u(l,null,[d,s("ul",null,[s("li",null,[t(a,{to:"/posts/2023/4/docs/Cobra/docs/md_docs.html"},{default:e(()=>[k]),_:1})]),s("li",null,[t(a,{to:"/posts/2023/4/docs/Cobra/docs/rest_docs.html"},{default:e(()=>[m]),_:1})]),s("li",null,[t(a,{to:"/posts/2023/4/docs/Cobra/docs/man_docs.html"},{default:e(()=>[v]),_:1})])]),g,s("p",null,[b,h,f,t(a,{to:"/posts/2023/4/docs/Cobra/docs/bash_completions.html"},{default:e(()=>[q]),_:1}),C]),w,s("p",null,[y,P,x,t(a,{to:"/posts/2023/4/docs/Cobra/docs/zsh_completions.html"},{default:e(()=>[_]),_:1}),R]),A],64)}var N=p(r,[["render",S],["__file","index.html.vue"]]);export{N as default};
